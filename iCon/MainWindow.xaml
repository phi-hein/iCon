<Window x:Class="iCon_General.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:HelixToolkit="http://helix-toolkit.org/wpf"
        xmlns:txtRes="clr-namespace:iCon_General.Properties"
        xmlns:usrContr="clr-namespace:iCon_General.UserControls"
        xmlns:customContr="clr-namespace:iCon_General.CustomControls"
        xmlns:local="clr-namespace:iCon_General"
        x:Name="MainWnd"
        Title="{x:Static txtRes:Resources.MainWindow_BaseTitle}" 
        Top="0"
        Left="0"
        Width="1200"
        Height="800"
        MinWidth="1100"
        MinHeight="700"
        WindowState="Maximized"
        Loaded="Window_Loaded" 
        Closing="Window_Closing">

    <!-- ******************** MAIN WINDOW ******************** -->
    <DockPanel>

        <!-- ******************** MAIN MENU ******************** -->
        <Menu DockPanel.Dock="Top" IsMainMenu="True" Style="{StaticResource MainMenuStyle}">
            <MenuItem Header="{x:Static txtRes:Resources.MainMenu_File}">
                <MenuItem Header="{x:Static txtRes:Resources.MainMenu_File_New}" Click="menuNew_Click"/>
                <MenuItem x:Name="menuSave" Header="{x:Static txtRes:Resources.MainMenu_File_Save}" Click="menuSave_Click" 
                          IsEnabled="{Binding Path=IsSaved, Mode=OneWay, Converter={StaticResource InvertConverter}}"/>
                <MenuItem Header="{x:Static txtRes:Resources.MainMenu_File_SaveAs}" Click="menuSaveAs_Click"/>
                <MenuItem Header="{x:Static txtRes:Resources.MainMenu_File_Load}" Click="menuLoad_Click"/>
            </MenuItem>
            <MenuItem Header="{x:Static txtRes:Resources.MainMenu_View}">
                <MenuItem x:Name="menuView3D"  Header="{x:Static txtRes:Resources.MainMenu_View_Tab3D}" IsCheckable="True" IsChecked="True" 
                          Click="menuView_Click"/>
                <MenuItem x:Name="menuViewProjFile" Header="{x:Static txtRes:Resources.MainMenu_View_TabProjFile}" IsCheckable="True" IsChecked="True" 
                          Click="menuView_Click"/>
                <MenuItem x:Name="menuViewExtSettings" Header="{x:Static txtRes:Resources.MainMenu_View_TabExtSettings}" IsCheckable="True" IsChecked="True" 
                          Click="menuView_Click"/>
                <Separator/>
                <MenuItem x:Name="menuViewConsole" Header="{x:Static txtRes:Resources.MainMenu_View_StatusWindow}" IsCheckable="True" IsChecked="True" 
                          Click="menuView_Click"/>
            </MenuItem>
            <MenuItem Header="{x:Static txtRes:Resources.MainMenu_Help}">
                <MenuItem Header="{x:Static txtRes:Resources.MainMenu_Help_Info}" Click="menuInfo_Click"/>
            </MenuItem>
        </Menu>

        <!-- ******************** MAIN GUI SPACE ******************** -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Rectangle Grid.ColumnSpan="3" Height="3" VerticalAlignment="Top" Style="{StaticResource DownBorderRectStyle}"/>
            <Rectangle Grid.ColumnSpan="3" Height="3" VerticalAlignment="Bottom" Style="{StaticResource UpBorderRectStyle}"/>
            <Rectangle Grid.Column="0"  Width="3" HorizontalAlignment="Left" Style="{StaticResource RightBorderRectStyle}"/>
            <Rectangle Grid.Column="2"  Width="3" HorizontalAlignment="Right" Style="{StaticResource LeftBorderRectStyle}"/>

            <customContr:ContentToggleButton Grid.Column="0" Style="{StaticResource LeftColumnCloseButton}" 
                                             IsChecked="{Binding IsLeftColumnVisible, ElementName=gridMain, Mode=TwoWay}"
                                             Click="btnHideMainColumn_Click"/>
            <customContr:ContentToggleButton Grid.Column="2" Style="{StaticResource RightColumnCloseButton}"
                                             IsChecked="{Binding IsRightColumnVisible, ElementName=gridMain, Mode=TwoWay}"
                                             Click="btnHideMainColumn_Click"/>

            <customContr:ClosableTwoColumnGrid x:Name="gridMain" Grid.Column="1" LeftColumnMinWidth="500" RightColumnMinWidth="480">

                <!-- ******************** LEFT GUI CONTENT FOR KMC JOB SPECIFICATION ******************** -->
                <customContr:ClosableTwoColumnGrid.LeftColumn>
                    <TabControl x:Name="tabcontrolMain" Style="{StaticResource MainTabControlStyle}" SelectedIndex="{Binding SelectedTab, Mode=TwoWay}">

                        <!-- ******************** TAB FOR JOB DESCRIPTION ******************** -->
                        <TabItem x:Name="tabJobDef" Style="{StaticResource MainTabItemStyle}" Header="{x:Static txtRes:Resources.TabHeader_JobDef}">
                            <Grid IsEnabled="{Binding IsJobDescEditable, Mode=OneWay}" Margin="0 5 0 0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Vertical">
                                    <StackPanel Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="Project Name:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Text="{Binding JobDesc.ProjectName}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="100">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Short name for project identification. Jobs of the same project should have the same structure, jump and energy configuration."
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" Style="{StaticResource StdInputStackpanelStyle}">
                                            <Label Content="User Name:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Text="{Binding JobDesc.UserName}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="100">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="User name for project ownership and cluster access." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </StackPanel>
                                        <StackPanel Grid.Column="1" Style="{StaticResource StdInputStackpanelStyle}">
                                            <Label Content="Date:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Text="{Binding Path=JobDesc.ProjectDate, Mode=OneWay}" Style="{StaticResource StdReadOnlyTextBoxStyle}" 
                                                     HorizontalAlignment="Center">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Date when the project was created." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                                <DockPanel Grid.Row="1" Style="{StaticResource MultilineInputDockpanelStyle}">
                                    <Label DockPanel.Dock="Top" Content="Project Description:" Style="{StaticResource StdInputLabelStyle}"/>
                                    <TextBox Text="{Binding JobDesc.ProjectDescription}" Style="{StaticResource MultilineInputTextBoxStyle}"/>
                                </DockPanel>
                                <StackPanel Grid.Row="2" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Label Content="Path:" Style="{StaticResource StdInputLabelStyle}"/>
                                    <TextBox Text="{Binding Path=ProjectPath, Mode=OneWay}" Style="{StaticResource StdReadOnlyTextBoxStyle}">
                                        <local:ToolTipHelper.MyToolTip>
                                            <TextBlock Text="Path to the project file where this project is saved." Style="{StaticResource StdToolTipStyle}"/>
                                        </local:ToolTipHelper.MyToolTip>
                                    </TextBox>
                                </StackPanel>
                                <StackPanel Grid.Row="3" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Grid Margin="0 8 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="1" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Apply}"
                                        IsEnabled="{Binding IsJobDescApplicable, Mode=OneWay}" 
                                        Click="BtnCmd_JobDesc_Apply">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Apply the current job description data to the project." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="2" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Cancel}"
                                        IsEnabled="{Binding IsJobDescSynchronized, Mode=OneWay, Converter={StaticResource InvertConverter}}" 
                                        Click="BtnCmd_JobDesc_Cancel">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Restore the last validated job description data." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- ******************** CONTENT OF TAB FOR STRUCTURE INPUT ******************** -->
                        <TabItem x:Name="tabStructure" Style="{StaticResource MainTabItemStyle}" Header="{x:Static txtRes:Resources.TabHeader_Structure}">
                            <Grid IsEnabled="{Binding IsStructureEditable, Mode=OneWay}" Margin="0 5 0 0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Vertical">
                                    <StackPanel Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="Structure Name:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Text="{Binding Structure.StructureName}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="100">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Name of the simulated crystalline compound." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </StackPanel>
                                    <StackPanel Style="{StaticResource StdInputStackpanelStyle}">
                                        <RadioButton x:Name="radioParam" GroupName="LatParam" Style="{StaticResource StdInputRadioButtonStyle}" 
                                             Content="Lattice Parameters:" IsChecked="{Binding Structure.LatticeParamChoice}"/>
                                        <Grid IsEnabled="{Binding ElementName=radioParam, Mode=OneWay, Path=IsChecked}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="Length a [&#8491;] :"/>
                                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Structure.LatticeLengthA, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Length of the lattice vector a in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="0" Grid.Column="2" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   Length b [&#8491;] :"/>
                                            <TextBox Grid.Row="0" Grid.Column="3" Text="{Binding Structure.LatticeLengthB, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Length of the lattice vector b in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="0" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   Length c [&#8491;] :"/>
                                            <TextBox Grid.Row="0" Grid.Column="5" Text="{Binding Structure.LatticeLengthC, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Length of the lattice vector c in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="0" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="Angle &#945; [&#176;] :"/>
                                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Structure.LatticeAngleA, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Angle between the lattice vectors b and c in degree." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="2" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   Angle &#946; [&#176;] :"/>
                                            <TextBox Grid.Row="1" Grid.Column="3" Text="{Binding Structure.LatticeAngleB, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Angle between the lattice vectors a and c in degree." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   Angle &#947; [&#176;] :"/>
                                            <TextBox Grid.Row="1" Grid.Column="5" Text="{Binding Structure.LatticeAngleC, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Angle between the lattice vectors a and b in degree." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                    </StackPanel>
                                    <StackPanel Style="{StaticResource StdInputStackpanelStyle}">
                                        <RadioButton x:Name="radioVec" GroupName="LatParam" Style="{StaticResource StdInputRadioButtonStyle}" Content="Lattice Vectors:"/>
                                        <Grid IsEnabled="{Binding ElementName=radioVec, Mode=OneWay, Path=IsChecked}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="Vector a [&#8491;] :  x ="/>
                                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Structure.LatticeVectorAX, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in x-direction of the lattice vector a in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="0" Grid.Column="2" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   y ="/>
                                            <TextBox Grid.Row="0" Grid.Column="3" Text="{Binding Structure.LatticeVectorAY, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in y-direction of the lattice vector a in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="0" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   z ="/>
                                            <TextBox Grid.Row="0" Grid.Column="5" Text="{Binding Structure.LatticeVectorAZ, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in z-direction of the lattice vector a in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="0" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="Vector b [&#8491;] :  x ="/>
                                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Structure.LatticeVectorBX, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in x-direction of the lattice vector b in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="2" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   y ="/>
                                            <TextBox Grid.Row="1" Grid.Column="3" Text="{Binding Structure.LatticeVectorBY, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in y-direction of the lattice vector b in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   z ="/>
                                            <TextBox Grid.Row="1" Grid.Column="5" Text="{Binding Structure.LatticeVectorBZ, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in z-direction of the lattice vector b in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="2" Grid.Column="0" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="Vector c [&#8491;] :  x ="/>
                                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Structure.LatticeVectorCX, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in x-direction of the lattice vector c in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="2" Grid.Column="2" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   y ="/>
                                            <TextBox Grid.Row="2" Grid.Column="3" Text="{Binding Structure.LatticeVectorCY, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in y-direction of the lattice vector c in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="2" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   z ="/>
                                            <TextBox Grid.Row="2" Grid.Column="5" Text="{Binding Structure.LatticeVectorCZ, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in z-direction of the lattice vector c in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                    </StackPanel>
                                    <StackPanel Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="Moving Species:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Label Grid.Column="0" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="Symbol S :"/>
                                            <TextBox Grid.Column="1" Text="{Binding Structure.MovSymbol}" Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Element symbol of the moving species in the crystalline compound." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Column="2" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   Name oN :"/>
                                            <TextBox Grid.Column="3" Text="{Binding Structure.MovName}" Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Optional name of the moving species (e.g. for different isotopes)." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource StdInputLabelStyle}" Content="   Charge q [e] :"/>
                                            <TextBox Grid.Column="5" Text="{Binding Structure.MovCharge, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Charge of the moving species in elementary charges." Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                    </StackPanel>
                                </StackPanel>
                                <customContr:TwoRowGrid Grid.Row="1" TopRowRelHeight="1.5" BottomRowRelHeight="1" 
                                                        TopRowMinHeight="100" BottomRowMinHeight="100">
                                    <customContr:TwoRowGrid.TopRow>
                                        <DockPanel Style="{StaticResource MultilineInputDockpanelStyle}">
                                            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                                                <Label Content="Atoms in the Unit Cell: " Style="{StaticResource StdInputLabelStyle}"/>
                                                <Button Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_Structure_AddAtom">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Add an atom to the unit cell." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M5,0 L5,10 M0,5 L10,5"/>
                                                    </Button.Content>
                                                </Button>
                                                <Button Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_Structure_DelAtom"
                                                IsEnabled="{Binding Structure.IsAtomSelected, Mode=OneWay}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Delete the selected atom from the unit cell." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M0,5 L10,5"/>
                                                    </Button.Content>
                                                </Button>
                                                <Button Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_Structure_DelAllAtoms"
                                                IsEnabled="{Binding Structure.HasAtoms, Mode=OneWay}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Delete all atoms in the unit cell." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M0,0 L10,10 M0,10 L10,0"/>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                            <DataGrid Style="{StaticResource StdInputDataGridStyle}" ItemsSource="{Binding Structure.Atoms}" SelectedItem="{Binding Structure.SelectedAtom}">
                                                <DataGrid.Columns>
                                                    <DataGridTextColumn Width="*" MinWidth="20" Binding="{Binding Symbol, UpdateSourceTrigger=LostFocus}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="S" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Element symbol of the unit cell atom." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="30" Binding="{Binding Name, UpdateSourceTrigger=LostFocus}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="oN" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Optional name of the unit cell atom (e.g. for doping only on some positions of one element)." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="40" Binding="{Binding Charge, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="q [e]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Charge of the unit cell atom in elementary charges." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="60" Binding="{Binding PositionX, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="x &#8712; [0,1)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Relative position of the unit cell atom: component along lattice vector a (0 &#8804; x &lt; 1)." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="60" Binding="{Binding PositionY, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="y &#8712; [0,1)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Relative position of the unit cell atom: component along lattice vector b (0 &#8804; y &lt; 1)." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="60" Binding="{Binding PositionZ, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="z &#8712; [0,1)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Relative position of the unit cell atom: component along lattice vector c (0 &#8804; z &lt; 1)." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                </DataGrid.Columns>
                                                <DataGrid.ContextMenu>
                                                    <ContextMenu>
                                                        <MenuItem Click="BtnCmd_Structure_AddAtom" Header="Add new atom"/>
                                                        <MenuItem Click="BtnCmd_Structure_DublicateAtom" IsEnabled="{Binding Structure.IsAtomSelected, Mode=OneWay}" 
                                                          Header="Dublicate atom"/>
                                                        <MenuItem Click="BtnCmd_Structure_SelectAsMovingSpecies" IsEnabled="{Binding Structure.IsAtomSelected, Mode=OneWay}"
                                                          Header="Select as moving species"/>
                                                        <MenuItem Click="BtnCmd_Structure_DelAtom" IsEnabled="{Binding Structure.IsAtomSelected, Mode=OneWay}"
                                                          Header="Delete selected atom"/>
                                                        <MenuItem Click="BtnCmd_Structure_DelAllAtoms" IsEnabled="{Binding Structure.HasAtoms, Mode=OneWay}"
                                                          Header="Remove all atoms"/>
                                                    </ContextMenu>
                                                </DataGrid.ContextMenu>
                                            </DataGrid>
                                        </DockPanel>
                                    </customContr:TwoRowGrid.TopRow>
                                    <customContr:TwoRowGrid.BottomRow>
                                        <DockPanel Style="{StaticResource MultilineInputDockpanelStyle}">
                                            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                                                <Label Content="Doping: " Style="{StaticResource StdInputLabelStyle}"/>
                                                <Button Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_Structure_AddDoping">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Add a doping." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M5,0 L5,10 M0,5 L10,5"/>
                                                    </Button.Content>
                                                </Button>
                                                <Button Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_Structure_DelDoping"
                                                        IsEnabled="{Binding Structure.IsDopingSelected, Mode=OneWay}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Delete the selected doping." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M0,5 L10,5"/>
                                                    </Button.Content>
                                                </Button>
                                                <Button Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_Structure_DelAllDopings"
                                                        IsEnabled="{Binding Structure.HasDopings, Mode=OneWay}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Delete all dopings." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M0,0 L10,10 M0,10 L10,0"/>
                                                    </Button.Content>
                                                </Button>
                                            </StackPanel>
                                            <DataGrid Style="{StaticResource StdInputDataGridStyle}" ItemsSource="{Binding Structure.Dopings}" SelectedItem="{Binding Structure.SelectedDoping}">
                                                <DataGrid.Columns>
                                                    <DataGridTextColumn Width="*" MinWidth="50" Binding="{Binding origSymbol, UpdateSourceTrigger=LostFocus}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="S (Orig)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Element symbol of the doped species." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="60" Binding="{Binding origName, UpdateSourceTrigger=LostFocus}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="oN (Orig)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Optional name of the doped species." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="70" Binding="{Binding origCharge, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="q [e] (Orig)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Charge of the doped species in elementary charges." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="50" Binding="{Binding dopSymbol, UpdateSourceTrigger=LostFocus}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="S (Dop)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Element symbol of the dopand species." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="60" Binding="{Binding dopName, UpdateSourceTrigger=LostFocus}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="oN (Dop)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Optional name of the dopand species." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="70" Binding="{Binding dopCharge, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="q [e] (Dop)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Charge of the dopand species in elementary charges." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="*" MinWidth="90" Binding="{Binding VacDopRatio, UpdateSourceTrigger=LostFocus, Converter={StaticResource StrToDoubleConverter}}"
                                                                        ElementStyle="{StaticResource StdCellStyle}" EditingElementStyle="{StaticResource StdEditingCellStyle}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="Vac/Dop Ratio" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Number of vacancies per dopand atom." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                </DataGrid.Columns>
                                                <DataGrid.ContextMenu>
                                                    <ContextMenu>
                                                        <MenuItem Click="BtnCmd_Structure_AddDoping" Header="Add new doping"/>
                                                        <MenuItem Click="BtnCmd_Structure_DublicateDoping" IsEnabled="{Binding Structure.IsDopingSelected, Mode=OneWay}"
                                                          Header="Dublicate doping"/>
                                                        <MenuItem Click="BtnCmd_Structure_DelDoping" IsEnabled="{Binding Structure.IsDopingSelected, Mode=OneWay}"
                                                          Header="Delete selected doping"/>
                                                        <MenuItem Click="BtnCmd_Structure_DelAllDopings" IsEnabled="{Binding Structure.HasDopings, Mode=OneWay}"
                                                          Header="Remove all dopings"/>
                                                    </ContextMenu>
                                                </DataGrid.ContextMenu>
                                            </DataGrid>
                                        </DockPanel>
                                    </customContr:TwoRowGrid.BottomRow>
                                </customContr:TwoRowGrid>
                                <StackPanel Grid.Row="2" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Grid Margin="0 8 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="1" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Apply}"
                                        IsEnabled="{Binding IsStructureApplicable, Mode=OneWay}" 
                                        Click="BtnCmd_Structure_Apply">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Apply the current structure definition data to the project." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="2" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Cancel}"
                                        IsEnabled="{Binding IsStructureSynchronized, Mode=OneWay, Converter={StaticResource InvertConverter}}" 
                                        Click="BtnCmd_Structure_Cancel">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Restore the last validated structure definition data." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- ******************** CONTENT OF TAB FOR JUMP CUSTOMIZATION ******************** -->
                        <TabItem x:Name="tabJumps" Style="{StaticResource MainTabItemStyle}" Header="{x:Static txtRes:Resources.TabHeader_Jumps}">
                            <Grid IsEnabled="{Binding IsJumpsEditable, Mode=OneWay}" Margin="0 5 0 0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="5*"/>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="4*"/>
                                        <ColumnDefinition Width="4*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0" Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="#/Shells (Destinations):" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Text="{Binding ShellCounts.MovShellCount, Converter={StaticResource StrToIntConverter}}" 
                                                 Style="{StaticResource StdInputTextBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Number of moving-atom-shells around an atom of the moving species that are used as jump destinations." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="#/Shells (Start):" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Text="{Binding ShellCounts.JumpStartShellCount, Converter={StaticResource StrToIntConverter}}" 
                                                 Style="{StaticResource StdInputTextBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Number of atomic shells around the jump start positions that are included in the jump environments." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </StackPanel>
                                    <StackPanel Grid.Column="2" Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="#/Shells (Center):" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Text="{Binding ShellCounts.JumpTSShellCount, Converter={StaticResource StrToIntConverter}}" 
                                                 Style="{StaticResource StdInputTextBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Number of atomic shells around the jump centers that are included in the jump environments." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </StackPanel>
                                    <StackPanel Grid.Column="3" Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="#/Shells (End):" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Text="{Binding ShellCounts.JumpDestShellCount, Converter={StaticResource StrToIntConverter}}" 
                                                 Style="{StaticResource StdInputTextBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Number of atomic shells around the jump destination positions that are included in the jump environments." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </StackPanel>
                                </Grid>
                                <StackPanel Grid.Row="1" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Grid Margin="0 8 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="1" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Apply}"
                                                IsEnabled="{Binding IsShellCountsApplicable, Mode=OneWay}" 
                                                Click="BtnCmd_ShellCounts_Apply">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Generate unique jumps and environments according to the current shell specifications." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="2" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Cancel}"
                                                IsEnabled="{Binding IsShellCountsSynchronized, Mode=OneWay, Converter={StaticResource InvertConverter}}" 
                                                Click="BtnCmd_ShellCounts_Cancel">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Restore the last validated shell count data." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                                <Rectangle Grid.Row="2" Style="{StaticResource StdSepInTabRectangleStyle}"/>
                                <DockPanel Grid.Row="3" Style="{StaticResource MultilineInputDockpanelStyle}">
                                    <Grid DockPanel.Dock="Top">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="1*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0" Content="#/Shells (Interactions):" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Grid.Column="1" Text="{Binding UniqueJumps.InteractionShellCount, Converter={StaticResource StrToIntConverter}}" 
                                                 Style="{StaticResource StdInputTextBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Number of interaction environment shells around the center of each interaction between a vacancy or a moving atom with an additive jump environment atom." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </Grid>
                                    <customContr:TwoColumnGrid LeftColumnRelWidth="1" RightColumnRelWidth="3" LeftColumnMinWidth="120" RightColumnMinWidth="300">
                                        <customContr:TwoColumnGrid.LeftColumn>
                                            <DockPanel>
                                                <Label DockPanel.Dock="Top" Content="Unique Jumps:" Style="{StaticResource StdInputLabelStyle}"/>
                                                <DataGrid Style="{StaticResource StdInputDataGridStyle}" 
                                                          ItemsSource="{Binding UniqueJumps.UJumps}" 
                                                          SelectedItem="{Binding UniqueJumps.SelectedUJump}">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Width="1*" MinWidth="30" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding JumpID, Converter={StaticResource StrToIntConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Identification number of the unique jumps." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding Length, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="l [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Jump length in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridCheckBoxColumn Width="Auto" CanUserResize="False" CanUserSort="False" 
                                                                                Binding="{Binding IsActive, UpdateSourceTrigger=PropertyChanged}">
                                                            <DataGridCheckBoxColumn.Header>
                                                                <TextBlock Text="&#x26A1;" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Active state: checked = jump can occur in the simulation; non-checked = jump will not occur during simulation." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridCheckBoxColumn.Header>
                                                        </DataGridCheckBoxColumn>
                                                    </DataGrid.Columns>
                                                </DataGrid>
                                            </DockPanel>
                                        </customContr:TwoColumnGrid.LeftColumn>
                                        <customContr:TwoColumnGrid.RightColumn>
                                            <DockPanel>
                                                <Label DockPanel.Dock="Top" Content="Environment Positions of the selected Unique Jump:" Style="{StaticResource StdInputLabelStyle}"/>
                                                <DataGrid Style="{StaticResource StdInputDataGridStyle}" 
                                                          ItemsSource="{Binding UniqueJumps.SelectedUJump.UniqueJumpAtoms}" 
                                                          SelectedItem="{Binding UniqueJumps.SelectedUJump.SelectedUniqueJumpAtom}">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Width="1*" MinWidth="30" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding CoordID, Converter={StaticResource StrToIntConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Identification number of the environment position." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridCheckBoxColumn Width="Auto" CanUserResize="False" CanUserSort="False" 
                                                                                Binding="{Binding IsIgnore, UpdateSourceTrigger=PropertyChanged}">
                                                            <DataGridCheckBoxColumn.Header>
                                                                <TextBlock Text="&#x2717;" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Ignore state: checked = environment position is irrelevant for the jump activation energy and therefore completely ignored in the simulation; non-checked = environment position is not ignored." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridCheckBoxColumn.Header>
                                                        </DataGridCheckBoxColumn>
                                                        <DataGridCheckBoxColumn Width="Auto" CanUserResize="False" CanUserSort="False" 
                                                                                Binding="{Binding IsAdditive, UpdateSourceTrigger=PropertyChanged}">
                                                            <DataGridCheckBoxColumn.Header>
                                                                <TextBlock Text="&#x2295;" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Additive state: checked = environment position has only an additive energy contribution to the jump activation energy which depends on the element occuping this position; non-checked = environment position has an energy contribution which depends on the occupation of all other non-additive environment positions." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridCheckBoxColumn.Header>
                                                        </DataGridCheckBoxColumn>
                                                        <DataGridCheckBoxColumn Width="Auto" CanUserResize="False" CanUserSort="False" 
                                                                                Binding="{Binding IsActive, UpdateSourceTrigger=PropertyChanged}">
                                                            <DataGridCheckBoxColumn.Header>
                                                                <TextBlock Text="&#x26A1;" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Active state: checked = the energy contribution depends on the element (e.g. dopand) which occupies this position; non-checked = this position has the same contribution regardless of which element occupies it." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridCheckBoxColumn.Header>
                                                        </DataGridCheckBoxColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding StartDist, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="dS [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Distance from the jump start position in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding TSDist, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="dC [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Distance from the jump center in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding DestDist, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="dD [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Distance from the jump destination position in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="1*" MinWidth="20" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding Symbol}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="S" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Symbol of the element which occupies this position in an undoped lattice." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="1*" MinWidth="30" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding Name}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="oN" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Optional name of the element which occupies this position in an undoped lattice." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="40" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding Charge, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="q [e]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Charge of the element which occupies this position in an undoped lattice." Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding ZylPositionX, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="h [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Distance from the jump center in jump direction in angstrom (cylindrical coordinate system: &apos;height&apos;)." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding ZylPositionY, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="r [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Distance from the jump axis in angstrom (cylindrical coordinate system: &apos;radial distance&apos;)." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                        <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                            Binding="{Binding ZylPositionZ, Converter={StaticResource StrToDoubleConverter}}">
                                                            <DataGridTextColumn.Header>
                                                                <TextBlock Text="&#x03D5; [&#176;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                    <local:ToolTipHelper.MyToolTip>
                                                                        <TextBlock Text="Angle of the rotation around the jump axis from standard orientation in degree (cylindrical coordinate system: &apos;azimuth&apos;)." 
                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                    </local:ToolTipHelper.MyToolTip>
                                                                </TextBlock>
                                                            </DataGridTextColumn.Header>
                                                        </DataGridTextColumn>
                                                    </DataGrid.Columns>
                                                </DataGrid>
                                            </DockPanel>
                                        </customContr:TwoColumnGrid.RightColumn>
                                    </customContr:TwoColumnGrid>
                                </DockPanel>
                                <StackPanel Grid.Row="4" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Grid Margin="0 8 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="1" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Apply}"
                                        IsEnabled="{Binding IsUniqueJumpsApplicable, Mode=OneWay}" 
                                        Click="BtnCmd_UniqueJumps_Apply">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Generate unique environments and interactions according to the current jump customizations." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="2" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Cancel}"
                                        IsEnabled="{Binding IsUniqueJumpsSynchronized, Mode=OneWay, Converter={StaticResource InvertConverter}}" 
                                        Click="BtnCmd_UniqueJumps_Cancel">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Restore the last validated jump customization data." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- ******************** CONTENT OF TAB FOR ENERGY INPUT ******************** -->
                        <TabItem x:Name="tabEnergies" Style="{StaticResource MainTabItemStyle}" Header="{x:Static txtRes:Resources.TabHeader_Energies}">
                            <Grid IsEnabled="{Binding IsEnergiesEditable, Mode=OneWay}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <customContr:TwoRowGrid Grid.Row="0" TopRowMinHeight="200" BottomRowMinHeight="200">
                                    <customContr:TwoRowGrid.TopRow>
                                        <customContr:TwoColumnGrid Margin="5 5 5 0" LeftColumnRelWidth="1" RightColumnRelWidth="3" LeftColumnMinWidth="100" RightColumnMinWidth="300">
                                            <customContr:TwoColumnGrid.LeftColumn>
                                                <DockPanel>
                                                    <Label DockPanel.Dock="Top" Content="Unique Jumps:" Style="{StaticResource StdInputLabelStyle}"/>
                                                    <DataGrid Style="{StaticResource StdInputDataGridStyle}" ItemsSource="{Binding Energies.EnergiesJumps}" SelectedItem="{Binding Energies.SelectedEnergiesJump}">
                                                        <DataGrid.Columns>
                                                            <DataGridTextColumn Width="1*" MinWidth="30" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                                Binding="{Binding JumpID, Converter={StaticResource StrToIntConverter}}">
                                                                <DataGridTextColumn.Header>
                                                                    <TextBlock Text="ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                        <local:ToolTipHelper.MyToolTip>
                                                                            <TextBlock Text="Identification number of the unique jump." Style="{StaticResource StdToolTipStyle}"/>
                                                                        </local:ToolTipHelper.MyToolTip>
                                                                    </TextBlock>
                                                                </DataGridTextColumn.Header>
                                                            </DataGridTextColumn>
                                                            <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                                Binding="{Binding Length, Converter={StaticResource StrToDoubleConverter}}">
                                                                <DataGridTextColumn.Header>
                                                                    <TextBlock Text="l [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                        <local:ToolTipHelper.MyToolTip>
                                                                            <TextBlock Text="Jump length in angstrom." Style="{StaticResource StdToolTipStyle}"/>
                                                                        </local:ToolTipHelper.MyToolTip>
                                                                    </TextBlock>
                                                                </DataGridTextColumn.Header>
                                                            </DataGridTextColumn>
                                                        </DataGrid.Columns>
                                                    </DataGrid>
                                                </DockPanel>
                                            </customContr:TwoColumnGrid.LeftColumn>
                                            <customContr:TwoColumnGrid.RightColumn>
                                                <DockPanel>
                                                    <Label DockPanel.Dock="Top" Content="Unique Jump Environments of the selected Jump:" Style="{StaticResource StdInputLabelStyle}"/>
                                                    <DataGrid Style="{StaticResource StdInputDataGridStyle}" ItemsSource="{Binding Energies.SelectedEnergiesJump.UniqueCodes}" SelectedItem="{Binding Energies.SelectedEnergiesJump.SelectedUniqueCode}">
                                                        <DataGrid.Columns>
                                                            <DataGridTextColumn Width="1*" MinWidth="30" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                                Binding="{Binding CodeID, Converter={StaticResource StrToIntConverter}}">
                                                                <DataGridTextColumn.Header>
                                                                    <TextBlock Text="ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                        <local:ToolTipHelper.MyToolTip>
                                                                            <TextBlock Text="Identification number of the unique environment." Style="{StaticResource StdToolTipStyle}"/>
                                                                        </local:ToolTipHelper.MyToolTip>
                                                                    </TextBlock>
                                                                </DataGridTextColumn.Header>
                                                            </DataGridTextColumn>
                                                            <DataGridTextColumn Width="2*" MinWidth="80" 
                                                                                Binding="{Binding Energy, Converter={StaticResource StrToDoubleConverter}}">
                                                                <DataGridTextColumn.Header>
                                                                    <TextBlock Text="Energy [eV]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                        <local:ToolTipHelper.MyToolTip>
                                                                            <TextBlock Text="Activation energy in electron volts." Style="{StaticResource StdToolTipStyle}"/>
                                                                        </local:ToolTipHelper.MyToolTip>
                                                                    </TextBlock>
                                                                </DataGridTextColumn.Header>
                                                            </DataGridTextColumn>
                                                            <DataGridTextColumn Width="7*" MinWidth="100" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                                Binding="{Binding CodeStr}" ElementStyle="{StaticResource ToolTipCellStyle}">
                                                                <DataGridTextColumn.Header>
                                                                    <TextBlock Text="Code" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                        <local:ToolTipHelper.MyToolTip>
                                                                            <TextBlock Text="Environment description: elements that occupy the non-ignored, non-additive environment positions (equivalent environments separated by semicolon)." 
                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                        </local:ToolTipHelper.MyToolTip>
                                                                    </TextBlock>
                                                                </DataGridTextColumn.Header>
                                                            </DataGridTextColumn>
                                                        </DataGrid.Columns>
                                                    </DataGrid>
                                                </DockPanel>
                                            </customContr:TwoColumnGrid.RightColumn>
                                        </customContr:TwoColumnGrid>
                                    </customContr:TwoRowGrid.TopRow>
                                    <customContr:TwoRowGrid.BottomRow>
                                        <DockPanel Style="{StaticResource MultilineInputDockpanelStyle}">
                                            <Label DockPanel.Dock="Top" Content="Additive Contributions to the Activation Energy of the selected Jump:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <DataGrid x:Name="dgWWEnergies" Style="{StaticResource StdInputDataGridStyle}" ItemsSource="{Binding Energies.SelectedEnergiesJump.WWAtoms}" SelectedItem="{Binding Energies.SelectedEnergiesJump.SelectedWWAtom}">
                                                <DataGrid.Columns>
                                                    <DataGridTextColumn Width="1*" MinWidth="30" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                        Binding="{Binding WWAtomID, Converter={StaticResource StrToIntConverter}}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Identification number of the additive environment position when only regarding the additive positions in the jump environment." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="1*" MinWidth="50" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                        Binding="{Binding CoordID, Converter={StaticResource StrToIntConverter}}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="Pos.-ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Position-ID: Identification number of the environment position." Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="1*" MinWidth="50" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                        Binding="{Binding WWID, Converter={StaticResource StrToIntConverter}}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="Int.-ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Interaction-ID: Identification number of the unique interaction between the additive environment position and the jump start and destination." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                        Binding="{Binding StartDist, Converter={StaticResource StrToDoubleConverter}}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="dS [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Distance between the additive jump environment position and the jump start position in angstrom." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                        Binding="{Binding CenterDist, Converter={StaticResource StrToDoubleConverter}}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="dC [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Distance between the additive jump environment position and the jump center in angstrom." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Width="2*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                        Binding="{Binding DestDist, Converter={StaticResource StrToDoubleConverter}}">
                                                        <DataGridTextColumn.Header>
                                                            <TextBlock Text="dD [&#8491;]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Distance between the additive jump environment position and the jump destination position in angstrom." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                        </DataGridTextColumn.Header>
                                                    </DataGridTextColumn>
                                                </DataGrid.Columns>
                                            </DataGrid>
                                        </DockPanel>
                                    </customContr:TwoRowGrid.BottomRow>
                                </customContr:TwoRowGrid>
                                <StackPanel Grid.Row="1" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Grid Margin="0 8 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="1" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Apply}"
                                                IsEnabled="{Binding IsEnergiesApplicable, Mode=OneWay}" 
                                                Click="BtnCmd_Energies_Apply">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Apply the current energy data." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="2" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Cancel}"
                                                IsEnabled="{Binding IsEnergiesSynchronized, Mode=OneWay, Converter={StaticResource InvertConverter}}" 
                                                Click="BtnCmd_Energies_Cancel">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Restore the last validated energy data." Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- ******************** CONTENT OF TAB FOR KMC JOB SETTINGS ******************** -->
                        <TabItem x:Name="tabSettings" Style="{StaticResource MainTabItemStyle}" Header="{x:Static txtRes:Resources.TabHeader_JobSettings}">
                            <Grid IsEnabled="{Binding IsSettingsEditable, Mode=OneWay}" Margin="0 5 0 0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0" Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="Physical Parameters:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Grid.Column="0" Content="Temperature [K]:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Settings.CurrentJob.Temperature, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Simulation temperature in kelvin." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="0" Grid.Column="2" Content="   Lattice Size:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="0" Grid.Column="3" Text="{Binding Settings.CurrentJob.LatticeSize, Converter={StaticResource StrToIntConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Number of unit cells along each edge of the simulated lattice." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="0" Content="Attempt Freq. [1/s]:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Settings.CurrentJob.AttemptFrequency, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Jump attempt frequency for the conductivity calculation in hertz." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="2" Content="   Additional Vac.:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="1" Grid.Column="3" Text="{Binding Settings.CurrentJob.AdditionalVacAnz, Converter={StaticResource StrToLongConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Number of vacancies that are added (if positive) or removed (if negative) additionally to the doping-related vacancies." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="2" Grid.Column="0" Content="E-Field Influence [kT]:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Settings.CurrentJob.EFieldMagnitude, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Maximum contribution of the applied electrical field to the jump activation energies in Boltzmann constant times temperature (0 = no electrical field)." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Label Grid.Column="0" Content="E-Field Direction:  x =" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Column="1" Text="{Binding Settings.CurrentJob.EFieldDirX, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in x-direction of the unit direction vector of the electrical field." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Column="2" Content="  y =" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Column="3" Text="{Binding Settings.CurrentJob.EFieldDirY, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in y-direction of the unit direction vector of the electrical field." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Column="4" Content="  z =" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Column="5" Text="{Binding Settings.CurrentJob.EFieldDirZ, Converter={StaticResource StrToDoubleConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Component in z-direction of the unit direction vector of the electrical field." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                        <StackPanel Orientation="Horizontal">
                                            <Label Content="Checkpoint:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <CheckBox IsChecked="{Binding Settings.CurrentJob.WriteCheckpoint, UpdateSourceTrigger=PropertyChanged}" 
                                                      Content="Save  " Style="{StaticResource StdCheckBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="If activated, a checkpoint file (*.kcp) will be saved regularly during the simulation. If the simulation is canceled before finishing, this file can be loaded to continue at the last saved progress by a simple simulation restart." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </CheckBox>
                                            <CheckBox IsChecked="{Binding Settings.CurrentJob.LoadCheckpoint, UpdateSourceTrigger=PropertyChanged}" 
                                                      Content="Load" Style="{StaticResource StdCheckBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="If activated, the simulation routine will try to load a saved progress (checkpoint file, *.kcp) and continue the simulation from the loaded data. If there is no valid checkpoint file, the simulation will start from the beginning." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </CheckBox>
                                        </StackPanel>
                                    </StackPanel>
                                    <DockPanel Grid.Column="1" Style="{StaticResource MultilineInputDockpanelStyle}">
                                        <Label DockPanel.Dock="Top" Content="Doping Concentrations:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <DataGrid x:Name="dgConc" ItemsSource="{Binding Settings.CurrentJob.DopConcentrations}" Style="{StaticResource StdInputDataGridStyle}">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Width="3*" MinWidth="50" EditingElementStyle="{StaticResource ReadOnlyCellStyle}"
                                                                    ElementStyle="{StaticResource ToolTipCellStyle}"
                                                                    Binding="{Binding DopingDesc}">
                                                    <DataGridTextColumn.Header>
                                                        <TextBlock Text="Doping" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Description of a doping (format: doped species -> dopand species)." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                    </DataGridTextColumn.Header>
                                                </DataGridTextColumn>
                                                <DataGridTextColumn Width="2*" MinWidth="40" 
                                                                    Binding="{Binding Conc, Converter={StaticResource StrToDoubleConverter}}">
                                                    <DataGridTextColumn.Header>
                                                        <TextBlock Text="Conc." Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Concentration of the doping (= number fraction = number of dopand atoms divided by the number of positions of the doped species in the undoped lattice)." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                    </DataGridTextColumn.Header>
                                                </DataGridTextColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </DockPanel>
                                </Grid>
                                <Grid Grid.Row="1" Margin="0 5 0 0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="9*"/>
                                        <ColumnDefinition Width="10*"/>
                                        <ColumnDefinition Width="9*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0" Style="{StaticResource StdInputStackpanelStyle}">
                                        <CheckBox x:Name="cbPrerunSettings" Content="Pre-Run:" IsChecked="{Binding Settings.CurrentJob.DoPrerun, UpdateSourceTrigger=PropertyChanged}" 
                                                  Style="{StaticResource StdCheckBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="If activated, a Kinetic Monte-Carlo simulation (without movement detection) for lattice equilibration is executed before all later simulation steps." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </CheckBox>
                                        <Grid IsEnabled="{Binding ElementName=cbPrerunSettings, Mode=OneWay, Path=IsChecked}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Grid.Column="0" Content="MCSP:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Settings.CurrentJob.PreMCSP, Converter={StaticResource StrToLongConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Monte-Carlo-steps per particle (= average number of sucessful jumps per atom of the moving species) during pre-run simulation." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="0" Content="Recorded Prob.:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Settings.CurrentJob.PreRecordAnz, Converter={StaticResource StrToIntConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Size of the lists of highest jump attempt and Monte-Carlo-step probabilities whose occurence numbers are recorded during pre-run simulation." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Style="{StaticResource StdInputStackpanelStyle}">
                                        <CheckBox x:Name="cbDynNormSettings" Content="Dynamic Norm.:" IsChecked="{Binding Settings.CurrentJob.DoDynNorm, UpdateSourceTrigger=PropertyChanged}" 
                                                  Style="{StaticResource StdCheckBoxStyle}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="If activated, a Kinetic Monte-Carlo simulation with a specified number of jump attempts (without movement detection) is executed between pre-run and main simulation. The recorded probabilites will be used for a custom normalization based on the actually occuring probabilities." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </CheckBox>
                                        <Grid IsEnabled="{Binding ElementName=cbDynNormSettings, Mode=OneWay, Path=IsChecked}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Grid.Column="0" Content="Jump Attempts:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Settings.CurrentJob.DynAttemptAnz, Converter={StaticResource StrToLongConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Number of jump attempts during dynamic normalization." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="0" Content="Recorded Prob.:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Settings.CurrentJob.DynRecordAnz, Converter={StaticResource StrToIntConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Size of the lists of highest jump attempt and Monte-Carlo-step probabilities whose occurence numbers are recorded during dynamic normalization." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="2" Grid.Column="0" Content="Norm. Prob.-Entry:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Settings.CurrentJob.DynNormNum, Converter={StaticResource StrToIntConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Number of the entry in the jump attempt probability list (1 = first) that is used for dynamic normalization. All probabilities are shifted by multiplication with a new normalization factor so that the selected probability becomes 1 (= always successful jump). ATTENTION: this makes all jumps with probabilites equal or above the selected one equally probable and always successful. This may alter the lattice development significantly if not handled with care. If this parameter is set to 0, the simulation stops after the dynamic normalization simulation and the list entry can be selected based on the actual list before continuing the simulation by a simple restart." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                    </StackPanel>
                                    <StackPanel Grid.Column="2" Style="{StaticResource StdInputStackpanelStyle}">
                                        <Label Content="Main Simulation:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0" Grid.Column="0" Content="MCSP:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Settings.CurrentJob.MCSP, Converter={StaticResource StrToLongConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Monte-Carlo-steps per particle (= average number of sucessful jumps per atom of the moving species) during the main Kinetic Monte-Carlo simulation." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                            <Label Grid.Row="1" Grid.Column="0" Content="Recorded Prob.:" Style="{StaticResource StdInputLabelStyle}"/>
                                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Settings.CurrentJob.MainRecordAnz, Converter={StaticResource StrToIntConverter}}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Size of the lists of highest jump attempt and Monte-Carlo-step probabilities whose occurence numbers are recorded during main simulation." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </Grid>
                                    </StackPanel>
                                </Grid>
                                <Rectangle Grid.Row="2" Style="{StaticResource StdSepInTabRectangleStyle}"/>
                                <DockPanel Grid.Row="3" Style="{StaticResource MultilineInputDockpanelStyle}">
                                    <Grid DockPanel.Dock="Top" Margin="0 0 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0" Content="Job List:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <Button Grid.Column="2" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Add}"
                                                Click="BtnCmd_Settings_AddJob" VerticalAlignment="Center">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Validate the job settings above and add the job to the job list below." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="3" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Change}"
                                                IsEnabled="{Binding Settings.IsJobSelected, Mode=OneWay}" 
                                                Click="BtnCmd_Settings_ChangeJob" VerticalAlignment="Center">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Validate the job settings above and change the selected job in the job list below to the new settings." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                        <Button Grid.Column="4" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Clear}"
                                                Click="BtnCmd_Settings_ClearJob" VerticalAlignment="Center">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Restore the last validated job settings above." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                    <Grid DockPanel.Dock="Bottom">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0" Content="Job directory (example):" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Grid.Column="1" Style="{StaticResource StdReadOnlyTextBoxStyle}" VerticalAlignment="Center">
                                            <TextBox.Text>
                                                <MultiBinding Converter="{StaticResource FullSubmitPathConverter}">
                                                    <Binding Path="Settings.CalcType" UpdateSourceTrigger="PropertyChanged" Mode="OneWay"/>
                                                    <Binding Path="Settings.BaseDirectory" UpdateSourceTrigger="PropertyChanged" Mode="OneWay"/>
                                                    <Binding Path="Settings.JobNamePrefix" UpdateSourceTrigger="PropertyChanged" Mode="OneWay"/>
                                                    <Binding Path="VMGUISettings.SelectedRemoteProfile.RemoteWorkspace" UpdateSourceTrigger="PropertyChanged" Mode="OneWay"/>
                                                    <Binding Path="VMGUISettings.LocalWorkspace" UpdateSourceTrigger="PropertyChanged" Mode="OneWay"/>
                                                </MultiBinding>
                                            </TextBox.Text>
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Exemplary job directory path, based on the current workspace, base directory and job prefix settings." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </Grid>
                                    <Grid DockPanel.Dock="Bottom">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0" Content="Base Directory:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Grid.Column="1" Text="{Binding Settings.BaseDirectory}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="250">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Local or cluster base directory where the jobs are saved in separate, numbered folders when submitting them. Absolute or relative paths allowed. Relative paths are based on the local or remote workspace directory (see also Extended Settings tab)." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </Grid>
                                    <Grid DockPanel.Dock="Bottom" Margin="0 2 0 0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                                            <Label Content="Type: " Style="{StaticResource StdInputLabelStyle}"/>
                                            <RadioButton Content="Cluster    " IsChecked="{Binding Settings.CalcType, UpdateSourceTrigger=PropertyChanged}" 
                                                         GroupName="CalcType" Style="{StaticResource StdInputRadioButtonStyle}" Margin="0 0 0 0">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="The simulations will be executed on a remote cluster using the cluster queue system (see also Extended Settings tab)." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </RadioButton>
                                            <RadioButton Content="Local" GroupName="CalcType" Style="{StaticResource StdInputRadioButtonStyle}" Margin="0 0 0 0">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="The simulations will be executed on the local computer with an included queue system." 
                                                            Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </RadioButton>
                                        </StackPanel>
                                        <Label Grid.Column="1" Content="            Job Prefix:" Style="{StaticResource StdInputLabelStyle}"/>
                                        <TextBox Grid.Column="2" Text="{Binding Settings.JobNamePrefix}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="15">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Base name of the individual job folders in the base directory and the job name in a remote queue system. The job ID will be appended to this prefix for each job." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </TextBox>
                                    </Grid>
                                    <DataGrid x:Name="dgSettings" ItemsSource="{Binding Settings.JobList}" SelectedItem="{Binding Settings.SelectedJob}" Style="{StaticResource StdInputDataGridStyle}">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Width="1*" MinWidth="30" Binding="{Binding ID, Converter={StaticResource StrToIntConverter}}">
                                                <DataGridTextColumn.Header>
                                                    <TextBlock Text="ID" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Identification number of the job. This number is also used for numbering the job folders." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                </DataGridTextColumn.Header>
                                            </DataGridTextColumn>
                                            <DataGridTextColumn Width="1*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                Binding="{Binding Temperature, Converter={StaticResource StrToDoubleConverter}}">
                                                <DataGridTextColumn.Header>
                                                    <TextBlock Text="T [K]" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Simulation temperature of the job in kelvin." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                </DataGridTextColumn.Header>
                                            </DataGridTextColumn>
                                            <DataGridTextColumn Width="1*" MinWidth="50" EditingElementStyle="{StaticResource ReadOnlyCellStyle}" 
                                                                Binding="{Binding MCSP, Converter={StaticResource StrToLongConverter}}">
                                                <DataGridTextColumn.Header>
                                                    <TextBlock Text="MCSP" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Monte-Carlo-steps per particle of the main Kinetic Monte-Carlo simulation of the job." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                </DataGridTextColumn.Header>
                                            </DataGridTextColumn>
                                            <DataGridTextColumn Width="2*" MinWidth="80" EditingElementStyle="{StaticResource ReadOnlyCellStyle}"
                                                                ElementStyle="{StaticResource ToolTipCellStyle}"
                                                                Binding="{Binding ConcInfo}">
                                                <DataGridTextColumn.Header>
                                                    <TextBlock Text="Conc. (Num.)" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Ordered list of the doping concentrations of the job. The corresponding number of dopand atoms in the lattice is included in brackets." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                </DataGridTextColumn.Header>
                                            </DataGridTextColumn>
                                            <DataGridTextColumn Width="4*" MinWidth="60" EditingElementStyle="{StaticResource ReadOnlyCellStyle}"
                                                                ElementStyle="{StaticResource ToolTipCellStyle}"
                                                                Binding="{Binding SettingInfo}">
                                                <DataGridTextColumn.Header>
                                                    <TextBlock Text="Info" Style="{StaticResource StdDataGridHeaderTextBlockStyle}">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Compact job setting information." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBlock>
                                                </DataGridTextColumn.Header>
                                            </DataGridTextColumn>
                                        </DataGrid.Columns>
                                        <DataGrid.ContextMenu>
                                            <ContextMenu>
                                                <MenuItem Click="BtnCmd_Settings_DublicateJob" IsEnabled="{Binding Settings.IsJobSelected, Mode=OneWay}">
                                                    <MenuItem.Header>
                                                        <StackPanel Orientation="Horizontal">
                                                            <TextBlock Text="Dublicate job" Style="{StaticResource ContextMenuTextBlockStyle}" Margin="0 0 7 0"/>
                                                            <TextBox Text="{Binding Settings.DublicateCount, Converter={StaticResource StrToIntConverter}}" 
                                                                     Style="{StaticResource ContextMenuTextBoxStyle}" MaxLength="5" Width="30">
                                                                <local:ToolTipHelper.MyToolTip>
                                                                    <TextBlock Text="Number of copies that should be created." 
                                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                                </local:ToolTipHelper.MyToolTip>
                                                            </TextBox>
                                                        </StackPanel>
                                                    </MenuItem.Header>
                                                </MenuItem>
                                                <MenuItem Click="BtnCmd_Settings_LoadJob" IsEnabled="{Binding Settings.IsJobSelected, Mode=OneWay}" 
                                                          Header="Load job"/>
                                                <MenuItem Click="BtnCmd_Settings_ChangeJob" IsEnabled="{Binding Settings.IsJobSelected, Mode=OneWay}" 
                                                          Header="Change job"/>
                                                <MenuItem Click="BtnCmd_Settings_DeleteJob" IsEnabled="{Binding Settings.IsJobSelected, Mode=OneWay}" 
                                                          Header="Delete job"/>
                                                <MenuItem Click="BtnCmd_Settings_ClearJobList" IsEnabled="{Binding Settings.HasValidJobs, Mode=OneWay}" 
                                                          Header="Delete all jobs"/>
                                            </ContextMenu>
                                        </DataGrid.ContextMenu>
                                    </DataGrid>
                                </DockPanel>
                                <StackPanel Grid.Row="4" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Grid Margin="0 8 0 2">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="1" Style="{StaticResource StdButtonStyle}" Content="{x:Static txtRes:Resources.Btn_Submit}"
                                                IsEnabled="{Binding Settings.HasValidJobs, Mode=OneWay}" 
                                                Click="BtnCmd_Settings_Submit">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="Start all simulations that are specified in the job list." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </customContr:ClosableTwoColumnGrid.LeftColumn>

                <!-- ******************** RIGHT GUI CONTENT FOR ADDITIONAL INFO AND SETTINGS ******************** -->
                <customContr:ClosableTwoColumnGrid.RightColumn>
                    <TabControl Style="{StaticResource MainTabControlStyle}" HorizontalContentAlignment="Stretch">
                        <TabItem x:Name="tab3D" Style="{StaticResource MainTabItemStyle}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Label Style="{StaticResource TabItemLabelStyle}" Content="{x:Static txtRes:Resources.TabHeader_3D}"/>
                                    <customContr:ContentToggleButton x:Name="btnCloseTab3D" Style="{StaticResource TabItemCloseButtonStyle}" 
                                              IsChecked="{Binding ElementName=tab3D, Mode=OneWay, Path=IsSelected}" Click="btnTabClose_Click"/>
                                </StackPanel>
                            </TabItem.Header>

                            <!-- ******************** CONTENT OF TAB FOR VISUALISING 3D STRUCTURES ******************** -->
                            <Grid Margin="5 5 5 0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <customContr:ContentToggleButton Grid.Row="1" Style="{StaticResource BottomRowCloseButton}"
                                             IsChecked="{Binding IsBottomRowVisible, ElementName=gridTab3D, Mode=TwoWay}"/>

                                <customContr:ClosableTwoRowGrid x:Name="gridTab3D" Grid.Row="0" TopRowRelHeight="3" BottomRowMinHeight="150" TopRowMinHeight="200">
                                    <customContr:ClosableTwoRowGrid.TopRow>
                                        <TabControl Grid.Row="0" SelectedIndex="{Binding Selected3DTab, Mode=OneWay}">
                                            <TabItem Visibility="Collapsed">
                                                <Grid Background="White">
                                                    <HelixToolkit:HelixViewport3D x:Name="v3dCrystal" ItemsSource="{Binding CrystalModel.Model}" Background="Transparent"
                                                                      MouseDown="hv3DCrystal_MouseDown" ShowCoordinateSystem="True" ShowViewCube="False"
                                                                      Orthographic="True" DefaultCamera="{Binding CrystalModel.DefaultCamera, Mode=TwoWay}"/>
                                                    <TextBlock Text="{Binding CrystalModel.MeasurementResult, Mode=OneWay}" Margin="5 10 0 0" 
                                                               HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top">
                                                        <Button Click="BtnCmd_3DCrystal_SavePicture" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 1 1 1" ContentTemplate="{StaticResource BTP_SaveViewport}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Save 3D model to an image file." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DCrystal_ResetCamera" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_DefaultCamera}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Reset the 3D view to standard camera orientation." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DCrystal_ZoomExtents" Style="{StaticResource V3DControlButtonStyle}"
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_ZoomExtents}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Zoom the 3D view to show the whole model." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </TabItem>
                                            <TabItem Visibility="Collapsed">
                                                <Grid Background="White">
                                                    <HelixToolkit:HelixViewport3D x:Name="v3dJumps" ItemsSource="{Binding JumpsModel.Model}" Background="Transparent" 
                                                                      MouseDown="hv3DJumps_MouseDown" ShowCoordinateSystem="True" ShowViewCube="False"
                                                                      Orthographic="True" DefaultCamera="{Binding JumpsModel.DefaultCamera, Mode=TwoWay}"/>
                                                    <TextBlock Text="{Binding JumpsModel.MeasurementResult, Mode=OneWay}" Margin="5 10 0 0" 
                                                               HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top">
                                                        <Button Click="BtnCmd_3DJumps_SavePicture" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 1 1 1" ContentTemplate="{StaticResource BTP_SaveViewport}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Save 3D model to an image file." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DJumps_ResetCamera" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_DefaultCamera}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Reset the 3D view to standard camera orientation." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DJumps_ZoomExtents" Style="{StaticResource V3DControlButtonStyle}"
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_ZoomExtents}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Zoom the 3D view to show the whole model." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </TabItem>
                                            <TabItem Visibility="Collapsed">
                                                <Grid Background="White">
                                                    <HelixToolkit:HelixViewport3D x:Name="v3dUniqueJumps" ItemsSource="{Binding UniqueJumpsModel.Model}" Background="Transparent" 
                                                                      MouseDown="hv3DUniqueJumps_MouseDown" ShowCoordinateSystem="True" ShowViewCube="False"
                                                                      Orthographic="True" DefaultCamera="{Binding UniqueJumpsModel.DefaultCamera, Mode=TwoWay}"/>
                                                    <TextBlock Text="{Binding UniqueJumpsModel.MeasurementResult, Mode=OneWay}" Margin="5 10 0 0" 
                                                               HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top">
                                                        <Button Click="BtnCmd_3DUniqueJumps_SavePicture" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 1 1 1" ContentTemplate="{StaticResource BTP_SaveViewport}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Save 3D model to an image file." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DUniqueJumps_ResetCamera" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_DefaultCamera}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Reset the 3D view to standard camera orientation." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DUniqueJumps_ZoomExtents" Style="{StaticResource V3DControlButtonStyle}"
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_ZoomExtents}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Zoom the 3D view to show the whole model." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </TabItem>
                                            <TabItem Visibility="Collapsed">
                                                <Grid Background="White">
                                                    <HelixToolkit:HelixViewport3D x:Name="v3dCodes" ItemsSource="{Binding CodesModel.Model}" Background="Transparent" 
                                                                      MouseDown="hv3DCodes_MouseDown" ShowCoordinateSystem="True" ShowViewCube="False"
                                                                      Orthographic="True" DefaultCamera="{Binding CodesModel.DefaultCamera, Mode=TwoWay}"/>
                                                    <TextBlock Text="{Binding CodesModel.MeasurementResult, Mode=OneWay}" Margin="5 10 0 0" 
                                                               HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top">
                                                        <Button Click="BtnCmd_3DCodes_SavePicture" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 1 1 1" ContentTemplate="{StaticResource BTP_SaveViewport}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Save 3D model to an image file." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DCodes_ResetCamera" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_DefaultCamera}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Reset the 3D view to standard camera orientation." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DCodes_ZoomExtents" Style="{StaticResource V3DControlButtonStyle}"
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_ZoomExtents}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Zoom the 3D view to show the whole model." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </TabItem>
                                            <TabItem Visibility="Collapsed">
                                                <Grid Background="White">
                                                    <HelixToolkit:HelixViewport3D x:Name="v3dInteractions" ItemsSource="{Binding InteractionsModel.Model}" Background="Transparent" 
                                                                      MouseDown="hv3DInteractions_MouseDown" ShowCoordinateSystem="True" ShowViewCube="False"
                                                                      Orthographic="True" DefaultCamera="{Binding InteractionsModel.DefaultCamera, Mode=TwoWay}"/>
                                                    <TextBlock Text="{Binding InteractionsModel.MeasurementResult, Mode=OneWay}" Margin="5 10 0 0" 
                                                               HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                    <StackPanel Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top">
                                                        <Button Click="BtnCmd_3DInteractions_SavePicture" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 1 1 1" ContentTemplate="{StaticResource BTP_SaveViewport}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Save 3D model to an image file." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DInteractions_ResetCamera" Style="{StaticResource V3DControlButtonStyle}" 
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_DefaultCamera}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Reset the 3D view to standard camera orientation." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                        <Button Click="BtnCmd_3DInteractions_ZoomExtents" Style="{StaticResource V3DControlButtonStyle}"
                                                                BorderThickness="1 0 1 1" ContentTemplate="{StaticResource BTP_ZoomExtents}">
                                                            <local:ToolTipHelper.MyToolTip>
                                                                <TextBlock Text="Zoom the 3D view to show the whole model." 
                                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                            </local:ToolTipHelper.MyToolTip>
                                                        </Button>
                                                    </StackPanel>
                                                </Grid>
                                            </TabItem>
                                        </TabControl>
                                    </customContr:ClosableTwoRowGrid.TopRow>
                                    <customContr:ClosableTwoRowGrid.BottomRow>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <!-- Buttons for changing 3d tabs -->
                                            <StackPanel Grid.Row="0" Orientation="Horizontal">
                                                <RadioButton x:Name="rbt3DSelCrystal" Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" GroupName="3DModelSelection" 
                                                             Checked="rbt3DSel_Checked" Content="Crystal" IsChecked="True" BorderThickness="1 1 1 1" BorderBrush="LightGray"
                                                             Padding="4 0 4 0"/>
                                                <RadioButton x:Name="rbt3DSelJumps" Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" GroupName="3DModelSelection" 
                                                             Checked="rbt3DSel_Checked" Content="Jumps" BorderThickness="0 1 1 1" BorderBrush="LightGray"
                                                             Padding="4 0 4 0"/>
                                                <RadioButton x:Name="rbt3DSelUJumps" Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" GroupName="3DModelSelection" 
                                                             Checked="rbt3DSel_Checked" Content="Unique Jumps" BorderThickness="0 1 1 1" BorderBrush="LightGray"
                                                             Padding="4 0 4 0"/>
                                                <RadioButton x:Name="rbt3DSelCodes" Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" GroupName="3DModelSelection" 
                                                             Checked="rbt3DSel_Checked" Content="Codes" BorderThickness="0 1 1 1" BorderBrush="LightGray"
                                                             Padding="4 0 4 0"/>
                                                <RadioButton x:Name="rbt3DSelInteractions" Style="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}" GroupName="3DModelSelection" 
                                                             Checked="rbt3DSel_Checked" Content="Interactions" BorderThickness="0 1 1 1" BorderBrush="LightGray"
                                                             Padding="4 0 4 0"/>
                                            </StackPanel>

                                            <TabControl Grid.Row="1" SelectedIndex="{Binding Selected3DTab, Mode=OneWay}">

                                                <!-- Tab with options for 3d crystal model -->
                                                <TabItem Visibility="Collapsed">
                                                    <customContr:TwoColumnGrid LeftColumnMinWidth="180" RightColumnMinWidth="180">
                                                        <customContr:TwoColumnGrid.LeftColumn>
                                                            <GroupBox>
                                                                <GroupBox.Header>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Label Content="Model Options" Margin="0 0 2 0" Padding="0"/>
                                                                        <Button Click="BtnCmd_3DCrystal_Update" Style="{StaticResource V3DControlButtonStyle}" 
                                                                                BorderThickness="0" Width="16" Height="16" ContentTemplate="{StaticResource BTP_UpdateModel}"/>
                                                                    </StackPanel>
                                                                </GroupBox.Header>
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <CheckBox Content="Show border atoms" Style="{StaticResource StdOptionsCheckBoxStyle}"
                                                                                          IsChecked="{Binding CrystalModel.IsAdditionalAtomsVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show atoms on the outer borders (who belong to the next unit cells in a-, b- and c-direction)." 
                                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <customContr:HorizontalLabeledControl LabelText="Scaling factor:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CrystalModel.AtomScale, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Scaling factor that is multiplied with the atom sizes." 
                                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Unit cells:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="a-Direction:">
                                                                                    <TextBox Text="{Binding CrystalModel.UCCountA, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"
                                                                                             Style="{StaticResource StdInputTextBoxStyle}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Number of unit cells in a-direction." 
                                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="b-Direction:">
                                                                                    <TextBox Text="{Binding CrystalModel.UCCountB, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"
                                                                                             Style="{StaticResource StdInputTextBoxStyle}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Number of unit cells in b-direction." 
                                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="c-Direction:">
                                                                                    <TextBox Text="{Binding CrystalModel.UCCountC, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"
                                                                                             Style="{StaticResource StdInputTextBoxStyle}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Number of unit cells in c-direction." 
                                                                                                   Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.LeftColumn>
                                                        <customContr:TwoColumnGrid.RightColumn>
                                                            <GroupBox Header="3D Options">
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Lattice:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Content="Show lattice" Style="{StaticResource StdOptionsCheckBoxStyle}" 
                                                                                          IsChecked="{Binding CrystalModel.IsLatticeVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Thickness:">
                                                                                    <TextBox Text="{Binding CrystalModel.LatticeThickness, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"
                                                                                             Style="{StaticResource StdInputTextBoxStyle}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding CrystalModel.LatticeColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atom Labels:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <customContr:HorizontalLabeledControl LabelText="Mode:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding Source={StaticResource odpAtomLabelModeList}}"
                                                                                              SelectedItem="{Binding CrystalModel.AtomLabelMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding CrystalModel.AtomLabelColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Font size:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CrystalModel.AtomLabelFontSize, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Selected Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding CrystalModel.SelectedAtomColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.RightColumn>
                                                    </customContr:TwoColumnGrid>
                                                </TabItem>

                                                <!-- Tab with options for 3d jump model -->
                                                <TabItem Visibility="Collapsed">
                                                    <customContr:TwoColumnGrid LeftColumnMinWidth="200" RightColumnMinWidth="180">
                                                        <customContr:TwoColumnGrid.LeftColumn>
                                                            <GroupBox>
                                                                <GroupBox.Header>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Label Content="Model Options" Margin="0 0 2 0" Padding="0"/>
                                                                        <Button Click="BtnCmd_3DJumps_Update" Style="{StaticResource V3DControlButtonStyle}" 
                                                                                BorderThickness="0" Width="16" Height="16" ContentTemplate="{StaticResource BTP_UpdateModel}"/>
                                                                    </StackPanel>
                                                                </GroupBox.Header>
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Jump:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="150">
                                                                                <customContr:HorizontalLabeledControl LabelText="Start atom:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}" 
                                                                                              ItemsSource="{Binding JumpsModel.JumpStarts}"
                                                                                              SelectedItem="{Binding JumpsModel.SelectedJumpStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                                              DisplayMemberPath="ID">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select the unit cell atom (moving species) where he jump begins."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Jump direction:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding JumpsModel.SelectedJumpStart.NextIDs}"
                                                                                              SelectedItem="{Binding JumpsModel.SelectedJumpDir, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select the jump direction."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Vacancy image" 
                                                                                          IsChecked="{Binding JumpsModel.IsInVacancyImage, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="If activated, a vacancy is shown at the jump start position and an atom of the moving species at the jump destination position (the other way round if deactivated)."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Minimal cells" 
                                                                                          IsChecked="{Binding JumpsModel.IsShowOnlyUCWithAtomsInside, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="If activated, only unit cells with atoms inside are shown. Otherwise atoms on the outer borders belong technically to the next unit cells and those are also shown."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show border atoms" 
                                                                                          IsChecked="{Binding JumpsModel.IsAdditionalAtomsVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show atoms that reside on the outer unit cell borders and belong technically to the next unit cells."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <customContr:HorizontalLabeledControl LabelText="Scaling factor:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding JumpsModel.AtomScale, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Scaling factor that is multiplied with the atoms sizes."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Vacancy:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker ShowAlpha="False"
                                                                                                          SelectedColor="{Binding JumpsModel.VacancyColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Color of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </usrContr:ColorPicker>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding JumpsModel.VacancyOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Non-env. Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show atoms" 
                                                                                        IsChecked="{Binding JumpsModel.IsIrrelevantAtomsVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show atoms that do not belong to the jump environment but reside in the surrounding unit cells."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding JumpsModel.IrrelevantAtomOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of the non-environment atoms."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.LeftColumn>
                                                        <customContr:TwoColumnGrid.RightColumn>
                                                            <GroupBox Header="3D Options">
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Lattice:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show lattice" 
                                                                                            IsChecked="{Binding JumpsModel.IsLatticeVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Thickness:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding JumpsModel.LatticeThickness, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding JumpsModel.LatticeColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Arrow:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show arrow" 
                                                                                            IsChecked="{Binding JumpsModel.IsArrowVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding JumpsModel.ArrowColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Diameter:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                               Text="{Binding JumpsModel.ArrowDiameter, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Head length:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding JumpsModel.ArrowHeadLength, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atom Labels:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <customContr:HorizontalLabeledControl LabelText="Mode">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding Source={StaticResource odpAtomLabelModeList}}"
                                                                                              SelectedItem="{Binding JumpsModel.AtomLabelMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding JumpsModel.AtomLabelColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Font size:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding JumpsModel.AtomLabelFontSize, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Selected Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding JumpsModel.SelectedAtomColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.RightColumn>
                                                    </customContr:TwoColumnGrid>
                                                </TabItem>

                                                <!-- Tab with options for 3d unique jump model -->
                                                <TabItem Visibility="Collapsed">
                                                    <customContr:TwoColumnGrid LeftColumnMinWidth="200" RightColumnMinWidth="180">
                                                        <customContr:TwoColumnGrid.LeftColumn>
                                                            <GroupBox>
                                                                <GroupBox.Header>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Label Content="Model Options" Margin="0 0 2 0" Padding="0"/>
                                                                        <Button Click="BtnCmd_3DUniqueJumps_Update" Style="{StaticResource V3DControlButtonStyle}" 
                                                                                BorderThickness="0" Width="16" Height="16" ContentTemplate="{StaticResource BTP_UpdateModel}"/>
                                                                    </StackPanel>
                                                                </GroupBox.Header>
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Unique Jump:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="150">
                                                                                <customContr:HorizontalLabeledControl LabelText="Unique jump ID:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding UniqueJumpsModel.UJumpList}"
                                                                                              SelectedItem="{Binding UniqueJumpsModel.SelectedUJump, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select a unique jump."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Vacancy image" 
                                                                                          IsChecked="{Binding UniqueJumpsModel.IsInVacancyImage, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="If activated, a vacancy is shown at the jump start position and an atom of the moving species at the jump destination position (the other way round if deactivated)."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="150">
                                                                                <customContr:HorizontalLabeledControl LabelText="Scaling factor:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.AtomScale, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Scaling factor that is multiplied with the atom sizes."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show additive atoms" 
                                                                                        IsChecked="{Binding UniqueJumpsModel.IsAdditiveAtomsVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show environment atoms that are marked as additive."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show inactive atoms" 
                                                                                        IsChecked="{Binding UniqueJumpsModel.IsInactiveAtomsVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show environment atoms that are marked as inactive."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show ignored atoms" 
                                                                                        IsChecked="{Binding UniqueJumpsModel.IsIgnoredAtomsVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show environment atoms that are marked as ignored."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity (additive):">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.AdditiveAtomOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of additive environment atoms."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity (inactive):">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.InactiveAtomOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of inactive environment atoms."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity (ignored):">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.IgnoredAtomOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of ignored environment atoms."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Vacancy:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker ShowAlpha="False"
                                                                                                          SelectedColor="{Binding UniqueJumpsModel.VacancyColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Color of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </usrContr:ColorPicker>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.VacancyOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.LeftColumn>
                                                        <customContr:TwoColumnGrid.RightColumn>
                                                            <GroupBox Header="3D Options">
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Arrow:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show arrow" 
                                                                                            IsChecked="{Binding UniqueJumpsModel.IsArrowVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding UniqueJumpsModel.ArrowColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Diameter:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.ArrowDiameter, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Head length:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.ArrowHeadLength, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atom Labels:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <customContr:HorizontalLabeledControl LabelText="Mode">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding Source={StaticResource odpAtomLabelModeList}}"
                                                                                              SelectedItem="{Binding UniqueJumpsModel.AtomLabelMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding UniqueJumpsModel.AtomLabelColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Font size:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding UniqueJumpsModel.AtomLabelFontSize, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Selected Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding UniqueJumpsModel.SelectedAtomColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.RightColumn>
                                                    </customContr:TwoColumnGrid>
                                                </TabItem>

                                                <!-- Tab with options for 3d code model -->
                                                <TabItem Visibility="Collapsed">
                                                    <customContr:TwoColumnGrid LeftColumnMinWidth="200" RightColumnMinWidth="180">
                                                        <customContr:TwoColumnGrid.LeftColumn>
                                                            <GroupBox>
                                                                <GroupBox.Header>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Label Content="Model Options" Margin="0 0 2 0" Padding="0"/>
                                                                        <Button Click="BtnCmd_3DCodes_Update" Style="{StaticResource V3DControlButtonStyle}" 
                                                                                BorderThickness="0" Width="16" Height="16" ContentTemplate="{StaticResource BTP_UpdateModel}"/>
                                                                    </StackPanel>
                                                                </GroupBox.Header>
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Unique Code:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="150">
                                                                                <customContr:HorizontalLabeledControl LabelText="Unique jump ID:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding CodesModel.UJumpList}"
                                                                                              SelectedItem="{Binding CodesModel.SelectedUJump, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                                              DisplayMemberPath="ID">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select a unique jump."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Unique code ID:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding CodesModel.SelectedUJump.NextMultiIDs}"
                                                                                              SelectedItem="{Binding CodesModel.SelectedUCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                                              DisplayMemberPath="ID">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select a unique environment of the unique jump."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Code ID:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding CodesModel.SelectedUCode.NextIDs}"
                                                                                              SelectedItem="{Binding CodesModel.SelectedFullCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select one of the equivalent environments of the selected unique environment."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Vacancy image" 
                                                                                          IsChecked="{Binding CodesModel.IsInVacancyImage, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="If activated, a vacancy is shown at the jump start position and an atom of the moving species at the jump destination position (the other way round if deactivated)."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <customContr:HorizontalLabeledControl LabelText="Scaling factor:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CodesModel.AtomScale, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Scaling factor that is multiplied with the atom sizes."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Vacancy:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker ShowAlpha="False"
                                                                                                          SelectedColor="{Binding CodesModel.VacancyColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Color of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </usrContr:ColorPicker>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CodesModel.VacancyOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.LeftColumn>
                                                        <customContr:TwoColumnGrid.RightColumn>
                                                            <GroupBox Header="3D Options">
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Arrow:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show arrow" 
                                                                                            IsChecked="{Binding CodesModel.IsArrowVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding CodesModel.ArrowColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Diameter:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CodesModel.ArrowDiameter, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Head length:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CodesModel.ArrowHeadLength, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atom Labels:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <customContr:HorizontalLabeledControl LabelText="Mode">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding Source={StaticResource odpAtomLabelModeList}}"
                                                                                              SelectedItem="{Binding CodesModel.AtomLabelMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding CodesModel.AtomLabelColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Font size:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding CodesModel.AtomLabelFontSize, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Selected Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding CodesModel.SelectedAtomColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.RightColumn>
                                                    </customContr:TwoColumnGrid>
                                                </TabItem>

                                                <!-- Tab with options for 3d interaction model -->
                                                <TabItem Visibility="Collapsed">
                                                    <customContr:TwoColumnGrid LeftColumnMinWidth="200" RightColumnMinWidth="180">
                                                        <customContr:TwoColumnGrid.LeftColumn>
                                                            <GroupBox>
                                                                <GroupBox.Header>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Label Content="Model Options" Margin="0 0 2 0" Padding="0"/>
                                                                        <Button Click="BtnCmd_3DInteractions_Update" Style="{StaticResource V3DControlButtonStyle}" 
                                                                                BorderThickness="0" Width="16" Height="16" ContentTemplate="{StaticResource BTP_UpdateModel}"/>
                                                                    </StackPanel>
                                                                </GroupBox.Header>
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Interaction:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="150">
                                                                                <customContr:HorizontalLabeledControl LabelText="Interaction ID:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding InteractionsModel.InteractionList}"
                                                                                              SelectedItem="{Binding InteractionsModel.SelectedInteraction, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                                              DisplayMemberPath="ID">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select a unique interaction."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Unique jump ID:">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding InteractionsModel.SelectedInteraction.NextIDs}"
                                                                                              SelectedItem="{Binding InteractionsModel.SelectedUJump, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Select a unique jump in whose environment the selected interaction exists."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </ComboBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Vacancy image" 
                                                                                          IsChecked="{Binding InteractionsModel.IsInVacancyImage, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="If activated, a vacancy is shown at the jump start position and an atom of the moving species at the jump destination position (the other way round if deactivated)."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show start env." 
                                                                                          IsChecked="{Binding InteractionsModel.IsStartEnvVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show the environment of the interaction between the interacting atom and the jump start position."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show dest. env." 
                                                                                          IsChecked="{Binding InteractionsModel.IsDestEnvVisible, UpdateSourceTrigger=PropertyChanged}">
                                                                                    <local:ToolTipHelper.MyToolTip>
                                                                                        <TextBlock Text="Show the environment of the interaction between the interacting atom and the jump destination position."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                    </local:ToolTipHelper.MyToolTip>
                                                                                </CheckBox>
                                                                                <customContr:HorizontalLabeledControl LabelText="Scaling factor:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.AtomScale, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Scaling factor that is multiplied with the atom sizes."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Vacancy:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker ShowAlpha="False"
                                                                                                          SelectedColor="{Binding InteractionsModel.VacancyColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Color of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </usrContr:ColorPicker>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Opacity:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.VacancyOpacity, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}">
                                                                                        <local:ToolTipHelper.MyToolTip>
                                                                                            <TextBlock Text="Opacity of the vacancy."
                                                                                                       Style="{StaticResource StdToolTipStyle}"/>
                                                                                        </local:ToolTipHelper.MyToolTip>
                                                                                    </TextBox>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.LeftColumn>
                                                        <customContr:TwoColumnGrid.RightColumn>
                                                            <GroupBox Header="3D Options">
                                                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                                                    <WrapPanel Orientation="Horizontal">
                                                                        <customContr:OptionsGroupBox LabelText="Jump Arrow:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show arrow" 
                                                                                          IsChecked="{Binding InteractionsModel.IsArrowVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding InteractionsModel.ArrowColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Diameter:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.ArrowDiameter, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Head length:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.ArrowHeadLength, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Interaction Arrows:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <CheckBox Style="{StaticResource StdOptionsCheckBoxStyle}" Content="Show arrows" 
                                                                                            IsChecked="{Binding InteractionsModel.IsWWArrowVisible, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding InteractionsModel.WWArrowColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Diameter:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.WWArrowDiameter, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Head length:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.WWArrowHeadLength, Converter={StaticResource StrToDoubleConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Atom Labels:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="130">
                                                                                <customContr:HorizontalLabeledControl LabelText="Mode">
                                                                                    <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}"
                                                                                              ItemsSource="{Binding Source={StaticResource odpAtomLabelModeList}}"
                                                                                              SelectedItem="{Binding InteractionsModel.AtomLabelMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding InteractionsModel.AtomLabelColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                                <customContr:HorizontalLabeledControl LabelText="Font size:">
                                                                                    <TextBox Style="{StaticResource StdInputTextBoxStyle}"
                                                                                             Text="{Binding InteractionsModel.AtomLabelFontSize, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                        <customContr:OptionsGroupBox LabelText="Selected Atoms:" Style="{StaticResource 3DOptionsGroupBoxStyle}">
                                                                            <StackPanel Orientation="Vertical" Width="110">
                                                                                <customContr:HorizontalLabeledControl LabelText="Color:">
                                                                                    <usrContr:ColorPicker SelectedColor="{Binding InteractionsModel.SelectedAtomColor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                                                                </customContr:HorizontalLabeledControl>
                                                                            </StackPanel>
                                                                        </customContr:OptionsGroupBox>
                                                                    </WrapPanel>
                                                                </ScrollViewer>
                                                            </GroupBox>
                                                        </customContr:TwoColumnGrid.RightColumn>
                                                    </customContr:TwoColumnGrid>
                                                </TabItem>
                                            </TabControl>
                                        </Grid>
                                    </customContr:ClosableTwoRowGrid.BottomRow>
                                </customContr:ClosableTwoRowGrid>
                            </Grid>
                        </TabItem>
                        <TabItem x:Name="tabProjFile" Style="{StaticResource MainTabItemStyle}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Label Style="{StaticResource TabItemLabelStyle}" Content="{x:Static txtRes:Resources.TabHeader_ProjFile}"/>
                                    <customContr:ContentToggleButton x:Name="btnCloseTabProjFile" Style="{StaticResource TabItemCloseButtonStyle}" 
                                              IsChecked="{Binding ElementName=tabProjFile, Mode=OneWay, Path=IsSelected}" Click="btnTabClose_Click"/>
                                </StackPanel>
                            </TabItem.Header>

                            <!-- ******************** CONTENT OF TAB FOR SHOWING CURRENT PROJECT FILE ******************** -->
                            <Grid>
                                <DockPanel Style="{StaticResource MultilineInputDockpanelStyle}">
                                    <TextBox Style="{StaticResource MultilineReadOnlyTextBoxStyle}"
                                             FontFamily="Global Monospace, Global User Interface"
                                             TextWrapping="NoWrap"
                                             HorizontalScrollBarVisibility="Auto"
                                             Text="{Binding VMProjectFile.FileContent, Mode=OneWay}"/>
                                </DockPanel>
                            </Grid>
                        </TabItem>
                        <TabItem x:Name="tabExtSettings" Style="{StaticResource MainTabItemStyle}">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal">
                                    <Label Style="{StaticResource TabItemLabelStyle}" Content="{x:Static txtRes:Resources.TabHeader_ExtSettings}"/>
                                    <customContr:ContentToggleButton x:Name="btnCloseTabExtSettings" Style="{StaticResource TabItemCloseButtonStyle}" 
                                              IsChecked="{Binding ElementName=tabExtSettings, Mode=OneWay, Path=IsSelected}" Click="btnTabClose_Click"/>
                                </StackPanel>
                            </TabItem.Header>

                            <!-- ******************** CONTENT OF TAB FOR HANDLING EXTENDED SETTINGS ******************** -->
                            <Grid Margin="0 5 0 0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Label Content="Local Simulation:" Style="{StaticResource StdInputLabelStyle}"/>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <customContr:HorizontalLabeledControl Grid.Column="0" LabelText="Workspace:" LabelMargin="5 0 5 0">
                                            <TextBox Grid.Column="1" Text="{Binding VMGUISettings.LocalWorkspace, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="250">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Local workspace directory which is used as default working directory and should be used for all locally saved project or job files. Absolute and relative paths allowed. Relative paths are based on the default iCon-Workspace directory in the user's Documents folder. Locally submitted jobs will be saved to a workspace sub-directory if the base directory is a relative path (see also Job Settings tab)." 
                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <Button Grid.Column="1" Content="..." Style="{StaticResource StdMiniButtonStyle}" Padding="0 -2 0 0"
                                                Click="BtnCmd_VMGUISettings_SetLocalWorkspacePath"/>
                                    </Grid>
                                </StackPanel>
                                <Rectangle Grid.Row="1" Style="{StaticResource StdSepInTabRectangleStyle}"/>
                                <StackPanel Grid.Row="2" Style="{StaticResource StdInputStackpanelStyle}">
                                    <Label Content="Remote Simulation:" Style="{StaticResource StdInputLabelStyle}"/>
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="15"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid Grid.Row="0" Grid.Column="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="5"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <customContr:HorizontalLabeledControl Grid.Column="0" LabelText="Cluster Profile:" LabelMargin="5 0 5 0">
                                                <ComboBox Style="{StaticResource StdOptionsComboBoxStyle}" ItemsSource="{Binding VMGUISettings.RemoteProfiles}" 
                                                      SelectedItem="{Binding VMGUISettings.SelectedRemoteProfile, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                      DisplayMemberPath="ID" HorizontalAlignment="Stretch">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Select the used cluster profile."
                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                </ComboBox>
                                            </customContr:HorizontalLabeledControl>
                                            <Grid Grid.Column="2">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Button Grid.Column="0" Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_VMGUISettings_AddRemoteProfile">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Add a new remote profile." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M5,0 L5,10 M0,5 L10,5"/>
                                                    </Button.Content>
                                                </Button>
                                                <Button Grid.Column="1" Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_VMGUISettings_CopyRemoteProfile"
                                                        IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Dublicate the selected remote profile." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" 
                                                              Data="M0,0 L0,10 10,10 10,0 0,0"/>
                                                    </Button.Content>
                                                </Button>
                                                <Button Grid.Column="2" Style="{StaticResource StdMiniButtonStyle}" Click="BtnCmd_VMGUISettings_DeleteRemoteProfile"
                                                        IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Delete the selected remote profile." Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                    <Button.Content>
                                                        <Path Margin="3" Stroke="Black" StrokeThickness="1" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                                                              Stretch="Uniform" VerticalAlignment="Center" HorizontalAlignment="Center" Data="M0,5 L10,5"/>
                                                    </Button.Content>
                                                </Button>
                                            </Grid>
                                        </Grid>
                                        <customContr:HorizontalLabeledControl Grid.Row="0" Grid.Column="2" LabelText="Name:" LabelMargin="5 0 5 0">
                                            <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.Name, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="20"
                                                     IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Name of the selected remote profile." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <customContr:HorizontalLabeledControl Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" LabelText="Workspace:" LabelMargin="5 0 5 0">
                                            <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.RemoteWorkspace, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="250"
                                                     IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Remote workspace directory which is used for remote simulations with a relative base directory (see also Job Settings tab). Absolute and relative paths allowed. Relative paths are based on the remote user home directory." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <customContr:HorizontalLabeledControl Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" LabelText="Build directory:" LabelMargin="5 0 5 0">
                                            <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.RemoteBuildDir, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="100"
                                                     IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Remote build directory where the required executables shall be stored (relative to remote workspace directory)." 
                                                            Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <customContr:HorizontalLabeledControl Grid.Row="3" Grid.Column="0" LabelText="Host:" LabelMargin="5 0 5 0">
                                            <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.HostAdress, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdInputTextBoxStyle}" MaxLength="100"
                                                     IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Adress (e.g. IP) of the remote cluster." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <customContr:HorizontalLabeledControl Grid.Row="3" Grid.Column="2" LabelText="Port:" LabelMargin="5 0 5 0">
                                            <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.HostPort, Converter={StaticResource StrToIntConverter}, ValidatesOnNotifyDataErrors=True}" 
                                                     Style="{StaticResource StdInputTextBoxStyle}"
                                                     IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Port number which is used when connecting to the remote cluster." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <customContr:HorizontalLabeledControl Grid.Row="4" Grid.Column="0" LabelText="Username:" LabelMargin="5 0 5 0">
                                            <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.Username, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdInputTextBoxStyle}" 
                                                     MaxLength="50"
                                                     IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="User name for authentication at the remote cluster." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </TextBox>
                                        </customContr:HorizontalLabeledControl>
                                        <CheckBox Grid.Row="5" Grid.Column="0" Content="Password Authentication" Style="{StaticResource StdCheckBoxStyle}"
                                                  IsChecked="{Binding VMGUISettings.SelectedRemoteProfile.WithPassword, UpdateSourceTrigger=PropertyChanged}"
                                                  IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="If checked, the specified password is used for authentication at the remote cluster. Note that some remote systems request the password via keyboard-interactive authentication." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </CheckBox>
                                        <customContr:HorizontalLabeledControl Grid.Row="5" Grid.Column="2" LabelText="Password:" LabelMargin="5 0 5 0">
                                            <PasswordBox Style="{StaticResource StdInputPasswordBoxStyle}" MaxLength="50"
                                                         local:PasswordBoxHelper.BindPassword="True"
                                                         local:PasswordBoxHelper.BoundPassword="{Binding VMGUISettings.SelectedRemoteProfile.UserPassword,
                                                         Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                         IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="User password for authentication at the remote cluster." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </PasswordBox>
                                        </customContr:HorizontalLabeledControl>
                                        <CheckBox Grid.Row="6" Grid.Column="0" Content="Private Key Authentication" Style="{StaticResource StdCheckBoxStyle}"
                                                  IsChecked="{Binding VMGUISettings.SelectedRemoteProfile.WithPrivateKey, UpdateSourceTrigger=PropertyChanged}"
                                                  IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="If checked, the private key file whose path is specified below, is used for authentication at the remote cluster." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </CheckBox>
                                        <customContr:HorizontalLabeledControl Grid.Row="6" Grid.Column="2" LabelText="Key Password:" LabelMargin="5 0 5 0">
                                            <PasswordBox Style="{StaticResource StdInputPasswordBoxStyle}" MaxLength="50"
                                                         local:PasswordBoxHelper.BindPassword="True"
                                                         local:PasswordBoxHelper.BoundPassword="{Binding VMGUISettings.SelectedRemoteProfile.PrivateKeyPassword,
                                                         Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                         IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Password for the private key file." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                            </PasswordBox>
                                        </customContr:HorizontalLabeledControl>
                                        <Grid Grid.Row="7" Grid.Column="0" Grid.ColumnSpan="3">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <customContr:HorizontalLabeledControl Grid.Column="0" LabelText="Private Key Path:" LabelMargin="5 0 5 0">
                                                <TextBox Text="{Binding VMGUISettings.SelectedRemoteProfile.PrivateKeyPath, ValidatesOnNotifyDataErrors=True}" Style="{StaticResource StdReadOnlyTextBoxStyle}"
                                                         IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                                    <local:ToolTipHelper.MyToolTip>
                                                        <TextBlock Text="Path to the private key file." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                                    </local:ToolTipHelper.MyToolTip>
                                                </TextBox>
                                            </customContr:HorizontalLabeledControl>
                                            <Button Grid.Column="1" Content="..." Style="{StaticResource StdMiniButtonStyle}" Padding="0 -2 0 0"
                                                    Click="BtnCmd_VMGUISettings_SetPrivateKeyPath"
                                                    IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>
                                        </Grid>
                                        <CheckBox Grid.Row="8" Grid.Column="0" Content="Keyboard-Interactive Authentication" Style="{StaticResource StdCheckBoxStyle}"
                                                  IsChecked="{Binding VMGUISettings.SelectedRemoteProfile.WithKeyboardInteractive, UpdateSourceTrigger=PropertyChanged}"
                                                  IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                            <local:ToolTipHelper.MyToolTip>
                                                <TextBlock Text="If checked, then keyboard-interactive authentication is used to connect to the remote cluster." 
                                                           Style="{StaticResource StdToolTipStyle}"/>
                                            </local:ToolTipHelper.MyToolTip>
                                        </CheckBox>
                                    </Grid>
                                </StackPanel>
                                <DockPanel Grid.Row="3" Style="{StaticResource MultilineInputDockpanelStyle}">
                                    <Label DockPanel.Dock="Top" Content="Remote scripts:" Style="{StaticResource StdInputLabelStyle}"/>
                                    <TabControl Style="{StaticResource MainTabControlStyle}" Margin="0 0 0 0"
                                                IsEnabled="{Binding VMGUISettings.IsRemoteProfileSelected, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                                        <TabItem Style="{StaticResource MainTabItemStyle}" Header="Submit script">
                                            <TextBox Style="{StaticResource MultilineInputTextBoxStyle}"
                                                    FontFamily="Global Monospace, Global User Interface"
                                                    Margin="5 5 5 0" TextWrapping="NoWrap"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    Text="{Binding VMGUISettings.SelectedRemoteProfile.SimSubmitScript}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Style="{StaticResource StdToolTipStyle}">
                                                        Bash script that is sent to remote host to submit the job to a queue system. The script is executed with the sh-command. The script is executed with the following parameters:
                                                        <LineBreak/>
                                                        #1: File path of the job script,
                                                        <LineBreak/>
                                                        #2: File path of the simulation executable,
                                                        <LineBreak/>
                                                        #3: Directory path of the job,
                                                        <LineBreak/>
                                                        #4: Job name,
                                                        <LineBreak/>
                                                        #5: File path of the input file,
                                                        <LineBreak/>
                                                        #6: File path of the log file.
                                                    </TextBlock>
                                                </local:ToolTipHelper.MyToolTip>
                                                <TextBox.ContextMenu>
                                                    <ContextMenu>
                                                        <MenuItem Command="ApplicationCommands.Cut"/>
                                                        <MenuItem Command="ApplicationCommands.Copy"/>
                                                        <MenuItem Command="ApplicationCommands.Paste"/>
                                                        <MenuItem Command="ApplicationCommands.SelectAll"/>
                                                        <MenuItem Command="ApplicationCommands.Undo"/>
                                                        <MenuItem Command="ApplicationCommands.Redo"/>
                                                        <MenuItem Header="Load default script" Click="BtnCmd_VMGUISettings_LoadDefaultSubmitScript"/>
                                                    </ContextMenu>
                                                </TextBox.ContextMenu>
                                            </TextBox>
                                        </TabItem>
                                        <TabItem Style="{StaticResource MainTabItemStyle}" Header="Job script">
                                            <TextBox Style="{StaticResource MultilineInputTextBoxStyle}"
                                                    FontFamily="Global Monospace, Global User Interface"
                                                    Margin="5 5 5 0" TextWrapping="NoWrap"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    Text="{Binding VMGUISettings.SelectedRemoteProfile.SimJobScript}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Bash script that is sent to remote host to execute the simulation. The script is executed by the remote queue system with the parameters specified in the submit script."
                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                                <TextBox.ContextMenu>
                                                    <ContextMenu>
                                                        <MenuItem Command="ApplicationCommands.Cut"/>
                                                        <MenuItem Command="ApplicationCommands.Copy"/>
                                                        <MenuItem Command="ApplicationCommands.Paste"/>
                                                        <MenuItem Command="ApplicationCommands.SelectAll"/>
                                                        <MenuItem Command="ApplicationCommands.Undo"/>
                                                        <MenuItem Command="ApplicationCommands.Redo"/>
                                                        <MenuItem Header="Load default script" Click="BtnCmd_VMGUISettings_LoadDefaultJobScript"/>
                                                    </ContextMenu>
                                                </TextBox.ContextMenu>
                                            </TextBox>
                                        </TabItem>
                                        <TabItem Style="{StaticResource MainTabItemStyle}" Header="Build script">
                                            <TextBox Style="{StaticResource MultilineInputTextBoxStyle}"
                                                    FontFamily="Global Monospace, Global User Interface"
                                                    Margin="5 5 5 0" TextWrapping="NoWrap"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    Text="{Binding VMGUISettings.SelectedRemoteProfile.BuildScript}">
                                                <local:ToolTipHelper.MyToolTip>
                                                    <TextBlock Text="Bash script that is executed within the build directory on the remote host, with the sh-command and without any parameters, in order to generate the required remote executables. Be careful with modifications to this script."
                                                               Style="{StaticResource StdToolTipStyle}"/>
                                                </local:ToolTipHelper.MyToolTip>
                                                <TextBox.ContextMenu>
                                                    <ContextMenu>
                                                        <MenuItem Command="ApplicationCommands.Cut"/>
                                                        <MenuItem Command="ApplicationCommands.Copy"/>
                                                        <MenuItem Command="ApplicationCommands.Paste"/>
                                                        <MenuItem Command="ApplicationCommands.SelectAll"/>
                                                        <MenuItem Command="ApplicationCommands.Undo"/>
                                                        <MenuItem Command="ApplicationCommands.Redo"/>
                                                        <MenuItem Header="Load default script" Click="BtnCmd_VMGUISettings_LoadDefaultBuildScript"/>
                                                    </ContextMenu>
                                                </TextBox.ContextMenu>
                                            </TextBox>
                                        </TabItem>
                                    </TabControl>
                                </DockPanel>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </customContr:ClosableTwoColumnGrid.RightColumn>
            </customContr:ClosableTwoColumnGrid>
        </Grid>
    </DockPanel>

</Window>